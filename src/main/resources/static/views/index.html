<!DOCTYPE html>
<html ng-app="demo">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge;" />
<link rel="ICON" href="../../images/favicon.ico" type="image/ico" />
<title ng-bind="title"></title>
<link rel="stylesheet" href="../../css/app/font-awesome.min.css" />
<link rel="stylesheet" href="../../css/app/bootstrap.css" />
<link rel="stylesheet" href="../../css/app/bootstrap-theme.min.css" />
<link rel="stylesheet" href="../../css/lib/bootstrap.min.css" />
<link rel="stylesheet" href="../../css/app/jquery-ui.css" />
<link rel="stylesheet" href="../../css/app/app.css">
<link rel="stylesheet" href="../../css/app/datepicker.css">
<link rel="stylesheet" href="../../css/app/dropdowns-enhancement.css">

<link rel="stylesheet" href="../../css/app/loading-bar.css">

<script src="../../js/lib/angular.min.js"></script>
<script src="../../js/lib/ui-bootstrap-tpls-2.5.0.min.js"></script>
<script src="../../js/app/app.js"></script>
<script src="../../js/app/runController.js"></script>
<script src="../../js/app/UserService.js"></script>
<script src="../../js/app/loading-bar.js"></script>
<script src="../../js/app/headerfooter.js"></script>
</head>

<body>
	<hr />
	<form name="runDetailsForm">
		<div class="maincontent" ng-controller="runController">
			<div class="pagecontentbar boldfont14" style="margin-left: 1px;">
				<span translate>RUN DETAILS</span>
			</div>
			<div class="h25"></div>
			<div style="margin-left: 15px;">
				<button class="button" title="SAVE" ng-click="createRun();"
					ng-show=isButtonVisible>
					<span> Create Run </span>
				</button>
			</div>
			<div style="margin-left: 1px;" ng-show=isFormVisible>
				<table class="table" style="align: left;">
					<colgroup>
						<col width="20%">
						<col width="80%">
					</colgroup>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Run Name</span></td>
						<td width="50%"><input name="runName" type="text"
							ng-model="input.runName" /></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Run Description</span></td>
						<td width="50%"><textarea rows="3" name="runEnvironment"
								ng-model="input.runEnvironment"></textarea></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Run Date</span></td>
						<td width="50%"><input name="runDate" type="text"
							placeholder="yyyy-MM-dd" ng-model="input.runDate" /></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Created By</span></td>
						<td width="50%"><input name="runDate" type="text"
							ng-model="input.createdBy" style="cursor: pointer" /></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Created Date</span></td>
						<td width="50%"><input name="runDate" type="text"
							placeholder="yyyy-MM-dd" ng-model="input.createdDate"
							style="cursor: pointer" /></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Updated By</span></td>
						<td width="50%"><input name="runDate" type="text"
							ng-model="input.updatedBy" style="cursor: pointer" /></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Updated Date</span></td>
						<td width="50%"><input name="runDate" type="text"
							placeholder="yyyy-MM-dd" ng-model="input.updatedDate"
							style="cursor: pointer" /></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Run Id</span></td>
						<td width="50%"><input name="runId" type="text"
							ng-model="input.runId" style="cursor: pointer" /></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Calculation Req Id</span></td>
						<td width="50%"><input name="calculationRequestId"
							type="text" ng-model="input.calculationRequestId"
							style="cursor: pointer" /></td>
					</tr>
					<tr>
						<td style="padding-left: 40px;"><span
							class="aligncenter boldfont12"> Comments</span></td>
						<td width="50%"><textarea rows="3" name="comments"
								ng-model="input.comments"></textarea></td>
					</tr>
					<tr>
						<td ng-show="isSaveBtnVisible">
							<button class="button" title="SAVE" ng-click="saveRunDetails();">
								<span> Save Run </span>
							</button>
						</td>
						<td ng-show="isUpdateBtnVisible">
							<button class="button" title="update" ng-click="updateRun();">
								<span> Update </span>
							</button>
						</td>
						 <td ng-show="isCancleBtnVisible">
							<button class="button" title="cancel" ng-click="cancleRun();">
								<span> Cancel </span>
							</button>
						</td>
					</tr>
				</table>
			</div>
			<div class="tab-content" ng-show=isButtonVisible>
				<div id="runDetails" class="tab-pane fade in active content"
					style="float: left; margin-left: 5px; margin-right: 20px;">
					<div class="h25"></div>
					<input type="text" class="form-control" style="width:30%"
						placeholder="Search Q" ng-model="searchQuery">

					<div class="h20"></div>
					<div style="margin-left: 1px;">
						<table class="propertyTable aligncenter" style="width:100%" border="1px">
							<colgroup>
								<col width="4%">
								<col width="8.5%">
								<col width="11%">
								<col width="6.5%">
								<col width="6.7%">
								<col width="6.5%">
								<col width="6%">
								<col width="6%">
								<col width="13%">
								<col width="6%">
								<col width="6%">
								<col width="5%">
								<col width="9%">
							</colgroup>
							<th class="aligncenter boldfont12"><a
								class="aligncenter boldfont12" href="#"
								ng-click="sortType = 'id'; sortReverse = !sortReverse"> Id <span
									ng-show="sortType == 'id' && !sortReverse"
									class="fa fa-caret-down"></span> <span
									ng-show="sortType == 'id' && sortReverse"
									class="fa fa-caret-up"></span></th>
							<th class="aligncenter boldfont12">Run Description</th>
							<th class="aligncenter boldfont12">Environment</th>
							<th class="aligncenter boldfont12">Run Date</th>
							<th class="aligncenter boldfont12"><a
								class="aligncenter boldfont12" href="#"
								ng-click="sortType = 'createdBy'; sortReverse = !sortReverse">Created By <span ng-show="sortType == 'createdBy' && !sortReverse"
									class="fa fa-caret-down"></span> <span
									ng-show="sortType == 'createdBy' && sortReverse"
									class="fa fa-caret-up"></span></th>
							<th class="aligncenter boldfont12">Created Date</th>

							<th class="aligncenter boldfont12"><a
								class="aligncenter boldfont12" href="#"
								ng-click="sortType = 'runId'; sortReverse = !sortReverse">RunId
									<span ng-show="sortType == 'runId' && !sortReverse"
									class="fa fa-caret-down"></span> <span
									ng-show="sortType == 'runId' && sortReverse"
									class="fa fa-caret-up"></span></th>
							<th class="aligncenter boldfont12"><a
								class="aligncenter boldfont12" href="#"
								ng-click="sortType = 'calculationRequestId'; sortReverse = !sortReverse">Calculation Request Id <span
									ng-show="sortType == 'calculationRequestId' && !sortReverse"
									class="fa fa-caret-down"></span> <span
									ng-show="sortType == 'calculationRequestId' && sortReverse"
									class="fa fa-caret-up"></span></th>
							<th class="aligncenter boldfont12">Comments</th>

							<th class="aligncenter boldfont12"><a
								class="aligncenter boldfont12" href="#"
								ng-click="sortType = 'updatedBy'; sortReverse = !sortReverse">
									Updated By <span
									ng-show="sortType == 'updatedBy' && !sortReverse"
									class="fa fa-caret-down"></span> <span
									ng-show="sortType == 'updatedBy' && sortReverse"
									class="fa fa-caret-up"></span></th>
							<th class="aligncenter boldfont12">Updated Date</th>
							<th class="aligncenter boldfont12">File Download</th>
							<th class="aligncenter boldfont12">Action</th>
						</table>
						<div
							style="overflow-x: hidden; overflow-y: auto; margin-left: 1px;"
							class="h350">
							<table class="propertyTable aligncenter" style="width:100%" border="1px">
								<colgroup>
									<col width="4%">
									<col width="9%">
									<col width="11.5%">
									<col width="7%">
									<col width="7%">
									<col width="6.8%">
									<col width="6.5%">
									<col width="6.7%">
									<col width="14%">
									<col width="6.5%">
									<col width="6.3%">
									<col width="6.5%">
									<col width="12%">
								</colgroup>
								<tr ng-show="true"
									ng-repeat="runData in allRunDetails.data | orderBy:sortType:sortReverse| filter:searchQuery">
									<td class="w200  insidemainlargedivblocktd">
										{{runData.id}}</td>
									<td class="w200  insidemainlargedivblocktd"
										style="word-wrap: break-word; word-break: break-all;">
										{{runData.runName}}</td>
									<td class="w200  insidemainlargedivblocktd"
										style="word-wrap: break-word; word-break: break-all;">
										{{runData.runEnvironment}}</td>
									<td class="w200  insidemainlargedivblocktd">
										{{runData.runDate}}</td>
									<td class="w200  insidemainlargedivblocktd">
										{{runData.createdBy}}</td>
									<td class="w200  insidemainlargedivblocktd">
										{{runData.createdDate}}</td>

									<td class="w200  insidemainlargedivblocktd">
										{{runData.runId}}</td>
									<td class="w200  insidemainlargedivblocktd">
										{{runData.calculationRequestId}}</td>
									<td class="w200  insidemainlargedivblocktd"
										style="word-wrap: break-word; word-break: break-all;">
										{{runData.comments}}</td>
									<td class="w200  insidemainlargedivblocktd">
										{{runData.updatedBy}}</td>
									<td class="w200  insidemainlargedivblocktd">
										{{runData.updatedDate}}</td>
									<td class="w200  insidemainlargedivblocktd">
										<a ng-click ="download(runData);"style ="cursor: pointer;"> {{runData.fileName}} </a></td>
									<td class="w200  insidemainlargedivblocktd">
										<button class="button" title="update"
											ng-click="fillDetails(runData);">
											<span> Update </span>
										</button>
										<label for="file-input_{{runData.id}}"> <img
												src="../../images/upload.png"
												title="upload"
												width="15px"
												height="15px"
												style="cursor: pointer; pointer-events: none;" >
										   <input
										id="file-input_{{runData.id}}"
										type="file"
										accept=".xlsx"
										style="display: none;"
										file-model />
									</td>
								</tr>

							</table>
						</div>
					</div>
				</div>
			</div>
			</div>
	</form>
</body>

</html>